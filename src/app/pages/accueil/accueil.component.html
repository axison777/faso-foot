<div class="p-4">
  <h2>Tableau de Bord des Comp√©titions</h2>

  <!-- üîπ S√©lection Ligue -->
  <p-dropdown
    [options]="ligues"
    optionLabel="nom"
    [(ngModel)]="selectedLigue"
    placeholder="S√©lectionner une ligue"
    (onChange)="onLigueChange()">
  </p-dropdown>

  <!-- üîπ S√©lection Saison -->
  <p-dropdown
    *ngIf="selectedLigue?.saisons?.length"
    [options]="selectedLigue?.saisons"
    optionLabel="nom"
    [(ngModel)]="selectedSaison"
    placeholder="S√©lectionner une saison"
    (onChange)="onSaisonChange()">
  </p-dropdown>

  <!-- üîπ S√©lection Poule -->
  <p-dropdown
    *ngIf="selectedSaison?.poules?.length"
    [options]="selectedSaison?.poules"
    optionLabel="nom"
    [(ngModel)]="selectedPoule"
    placeholder="S√©lectionner une poule"
    (onChange)="onPouleChange()">
  </p-dropdown>

  <!-- üîπ Graphiques -->
  <div class="grid grid-cols-2 gap-4 mt-4">
    <div>
      <h3>Statistiques Matchs</h3>
      <canvas baseChart
        [data]="pieChartData"
        [options]="pieChartOptions"
        type="pie">
      </canvas>
    </div>

    <div>
      <h3>Classement</h3>
      <canvas baseChart
        [data]="barChartData"
        [options]="barChartOptions"
        type="bar">
      </canvas>
    </div>
  </div>

  <!-- üîπ Tableau Classement -->
<div *ngIf="classementEquipes?.length" class="mt-6">
  <h3 class="text-lg font-semibold mb-3">Classement des √©quipes</h3>

  <div class="overflow-x-auto shadow-md rounded-lg">
    <table class="min-w-full border border-gray-200 rounded-lg">
      <thead class="bg-green-600 text-white">
        <tr>
          <th class="px-4 py-2 text-left">#</th>
          <th class="px-4 py-2 text-left">√âquipe</th>
          <th class="px-4 py-2 text-center">Points</th>
          <th class="px-4 py-2 text-center">Victoires</th>
          <th class="px-4 py-2 text-center">Diff√©rence Buts</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let equipe of classementEquipes; let i = index"
            [ngClass]="{
              'bg-yellow-100 font-bold': i === 0, 
              'bg-gray-50': i % 2 !== 0
            }"
            class="hover:bg-green-50 transition">
          <td class="px-4 py-2">{{ i + 1 }}</td>
          <td class="px-4 py-2">{{ equipe.nom }}</td>
          <td class="px-4 py-2 text-center">{{ equipe.points }}</td>
          <td class="px-4 py-2 text-center">{{ equipe.victoires }}</td>
          <td class="px-4 py-2 text-center">{{ equipe.differenceButs }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

</div>
